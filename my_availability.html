<script>
async function loadSlots() {
  const list = document.getElementById("slotList");
  try {
    const response = await fetch("slots.json");
    if (!response.ok) {
      list.innerHTML = `<li style="color:red;">Failed to load slots.json (status: ${response.status})</li>`;
      return;
    }
    const data = await response.json();
    if (data.length === 0) {
      list.innerHTML = `<li>No slots available</li>`;
      return;
    }

    list.innerHTML = "";
    data.forEach(slot => {
      const li = document.createElement("li");
      const date = new Date(slot.datetime);
      const options = { 
        weekday: 'short', year: 'numeric', month: 'short', day: 'numeric', 
        hour: 'numeric', minute: 'numeric', hour12: true 
      };
      li.textContent = date.toLocaleString('en-US', options);
      li.style.padding = "8px";
      li.style.background = "#f0f6ff";
      li.style.marginBottom = "6px";
      li.style.borderRadius = "6px";
      list.appendChild(li);
    });
  } catch (e) {
    list.innerHTML = `<li style="color:red;">Error: ${e.message}</li>`;
  }
}

loadSlots();
</script>
